!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r,o=function(t){for(var e=["2020/8/16","2021/8/5","2022/7/25","2023/8/13","2024/8/1","2025/7/21","2026/8/9","2027/7/30","2028/8/17","2029/8/6","2030/7/27"],n=0;n<e.length;n++)if(t==e[n])return"悦悦|"+(e[n].substring(0,4)-1998)+"+岁|生日+快乐"}((new Date).toLocaleDateString())||function(t){switch((new Date).toLocaleDateString().substring(5)){case"7/13":return"悦悦|今天是|相恋|"+((new Date).getFullYear()-"2019")+"+周年";case"5/8":return"悦悦|今天是|相识|"+((new Date).getFullYear()-"2019")+"+周年";case"6/30":return"悦悦|今天是|见到你|"+((new Date).getFullYear()-"2019")+"+周年";case"5/20":return"悦悦|520+快乐";case"2/14":return"悦悦|情人节+快乐"}}()||function(){var t=i(new Date("2019/5/8")),e=i(new Date("2019/7/13")),n=i(new Date("2019/6/30")),r={347:"三千万+秒",463:"四千万+秒",579:"五千万+秒",695:"六千万+秒",810:"七千万+秒",926:"八千万+秒",1158:"九千万+秒"};function o(t,e){return r[e]?t+r[e]:e%100==0||e%1111==0||e%111==0?t+e+"+天":void 0}return o("悦悦|今天是|相恋|",e)||o("悦悦|今天是|相识|",t)||o("悦悦|今天是|见到你|",n)}()||(r=["悦悦|余生+有你|未来+可期","悦悦|一生+一世|一爱+一人","悦悦|久伴+不离|此生+不弃","春水+初生|春林+初盛|春风+十里|都不+如你"])[Math.floor(Math.random()*r.length)];function i(t){var e=new Date;return Math.floor((Date.parse(e)-Date.parse(t))/864e5)}var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u,l={},f={},d=22;var m,p,v,g=(p=[],v=function(){var t,e=p.shift();if(e)switch((t=(t=e)&&t.split(" ")[0])&&"#"===t[0]&&t.substring(1)){case"stop":w.switchShape(x.letter("")),setTimeout((function(){u()}),2e3);break;default:w.switchShape(x.letter(e))}else clearInterval(m)},{set:function(t){clearInterval(m),p=t.split("|"),v(),m=setInterval(v,3e3)}});var y,w=(y=[],{switchShape:function(t,e){var n=b.getArea();if(t.length+200>y.length)for(var r=t.length-y.length+200,o=0;o<r;o++)y.push(new M(n.w/2,n.h/2));!function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[n];t[n]=t[e],t[e]=r}}(y);var i=0;for(t.forEach((function(t){var n=y[i];n.e=e?.25:n.s?.14:.11,n.move({z:n.s?20*Math.random()+10:5*Math.random()+5,a:n.s?Math.random():0,h:n.s||e?18:30}),n.s=!0,n.move({x:t.x,y:t.y,a:1,z:5,h:0}),i++}));i<y.length;i++){var a=y[i];a.s&&(a.move({z:20*Math.random()+10,a:Math.random(),h:20}),a.s=!1,a.e=.04,a.move({x:Math.random()*n.w,y:Math.random()*n.h,a:.2+.4*Math.random(),z:6*Math.random(),h:0}))}},render:function(){for(var t=!0,e=0;e<y.length;e++)t=y[e].render()&&t;return t},reset:function(){y=[]}}),b={getArea:function(){return{w:l.width,h:l.height}},renderLoop:function(t){!function e(){f.clearRect(0,0,l.width,l.height),t(),a(e)}()},drawCircle:function(t){f.fillStyle="rgba(255,255,255,"+t.a+")",f.beginPath(),f.arc(Math.floor(t.x),Math.floor(t.y),d/11*t.z,0,2*Math.PI,!0),f.closePath(),f.fill()}},x={letter:function(t){var e=function(t){f.font="bold ".concat(t,"px Avenir, Helvetica Neue, Helvetica, Arial, sans-serif")};e(500);var n=t.replace("+","").split(""),r=Math.min.apply(Math,h(n.map((function(t){return f.measureText(t).width})))),o=Math.min(500,l.width/r*.8*500,.8*l.height/4);return e(o),f.clearRect(0,0,l.width,l.height),n.forEach((function(t,e){var r=f.measureText(t).width,i=(l.width-r)/2,a=(l.height-o*n.length)/2+o*(e+1);f.fillText(t,Math.floor(i),Math.floor(a))})),this.processCanvas()},processCanvas:function(){for(var t=f.getImageData(0,0,l.width,l.height).data,e=[],n=0,r=0,o=0;o<t.length;o+=4*d)t[o+3]>0&&e.push({x:n,y:r}),(n+=d)>=l.width&&(n=0,o=4*(r+=d)*l.width-4*d);return e}},M=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.z=5,this.a=1,this.h=0,this.e=.07,this.s=!0,this.q=[],this.t={x:this.x,y:this.y,z:this.z,a:this.a,h:this.h}}var e,n,r;return e=t,(n=[{key:"move",value:function(t,e){(!e||this.distanceTo(t)>1)&&this.q.push(t)}},{key:"distanceTo",value:function(t,e){var n=this.x-t.x,r=this.y-t.y,o=Math.sqrt(n*n+r*r);return e?{dx:n,dy:r,d:o}:o}},{key:"_moveTowards",value:function(t){var e=this.distanceTo(t,!0),n=e.dx,r=e.dy,o=e.d;return-1===this.h?(this.x=t.x,this.y=t.y,!0):o>1?(this.x-=n*this.e,this.y-=r*this.e,!1):!(this.h>0&&(this.h--,1))}},{key:"_update",value:function(){if(this._moveTowards(this.t)){var t=this.q.shift();t?(this.t.x=t.x||this.x,this.t.y=t.y||this.y,this.t.z=t.z||this.z,this.t.a=t.a||this.a,this.h=t.h||0):this.s||this.move({x:this.x+50*Math.random()-25,y:this.y+50*Math.random()-25})}var e=this.a-this.t.a;this.a=Math.max(.1,this.a-.05*e),e=this.z-this.t.z,this.z=Math.max(1,this.z-.05*e)}},{key:"_draw",value:function(){b.drawCircle(this)}},{key:"render",value:function(){return this._update(),this._draw(),this._complete()}},{key:"_complete",value:function(){return!!this.s||!(this.q.length>0)&&(this.distanceTo(this.t)<1||this.h<=0)}}])&&s(e.prototype,n),r&&s(e,r),t}();function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var A={},T={},D={},z=function(t){T=(A=t).getContext("2d"),function(){T.globalCompositeOperation="lighter",D=new _(T,A);var t=function(){D.render(),a(t)};t();var e=new Date;e.setFullYear(2019,6,13),e.setHours(23),e.setMinutes(45),e.setSeconds(0),e.setMilliseconds(0),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=10,n=[],r=setInterval((function(){for(var o=S(C(e),2),i=o[0],a=o[1],s=!0,h=0;h<n.length;h++){var c=n[h];if(Math.sqrt(Math.pow(c[0]-i,2)+Math.pow(c[1]-a,2))<1.3*_.options.bloomRadius.max){s=!1;break}}s&&(n.push([i,a]),D.createRandomBloom(i,a)),e>=30?(t(),clearInterval(r),O()):e+=.2}),50)}((function(){setTimeout((function(){t=function(){}}),2e3)})),j(e),setInterval((function(){j(e)}),500)}()};function C(t){var e=t/Math.PI,n=Math.min(A.height-100,A.width)/35,r=16*n*Math.pow(Math.sin(e),3),o=-n*(13*Math.cos(e)-5*Math.cos(2*e)-2*Math.cos(3*e)-Math.cos(4*e));return[A.width/2+r,A.height/2+o]}function j(t){var e=Date(),n=(Date.parse(e)-Date.parse(t))/1e3,r=Math.floor(n/86400);n%=86400;var o=Math.floor(n/3600);o<10&&(o="0"+o),n%=3600;var i=Math.floor(n/60);i<10&&(i="0"+i),(n%=60)<10&&(n="0"+n),document.getElementById("elapseClock").innerHTML='\n    <span class="digit">'.concat(r,'</span> days\n    <span class="digit">').concat(o,'</span> hours\n    <span class="digit">').concat(i,'</span> minutes\n    <span class="digit">').concat(n,"</span> seconds\n  ")}function B(t,e,n){var r=document.getElementById(t),o=0,i=setInterval((function(){o>=1&&(clearInterval(i),n&&n()),r.style.opacity=o,o+=200/e}),200)}function O(){B("messages",5e3,R)}function R(){B("loveu",2e3)}function k(t,e){this.x=t,this.y=e}function F(t,e,n,r,o,i){this.stretchA=t,this.stretchB=e,this.startAngle=n,this.angle=r,this.bloom=i,this.growFactor=o,this.r=1,this.isfinished=!1}function P(t,e,n,r,o){this.p=t,this.r=e,this.c=n,this.pc=r,this.petals=[],this.garden=o,this.init(),this.garden.addBloom(this)}function _(t,e){this.blooms=[],this.element=e,this.ctx=t}k.prototype={rotate:function(t){var e=this.x,n=this.y;return this.x=Math.cos(t)*e-Math.sin(t)*n,this.y=Math.sin(t)*e+Math.cos(t)*n,this},mult:function(t){return this.x*=t,this.y*=t,this},clone:function(){return new k(this.x,this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},set:function(t,e){return this.x=t,this.y=e,this}},F.prototype={draw:function(){var t,e,n,r,o=this.bloom.garden.ctx;e=(t=new k(0,this.r).rotate(_.degrad(this.startAngle))).clone().rotate(_.degrad(this.angle)),n=t.clone().mult(this.stretchA),r=e.clone().mult(this.stretchB),o.strokeStyle=this.bloom.c,o.beginPath(),o.moveTo(t.x,t.y),o.bezierCurveTo(n.x,n.y,r.x,r.y,e.x,e.y),o.stroke()},render:function(){this.r<=this.bloom.r?(this.r+=this.growFactor,this.draw()):this.isfinished=!0}},P.prototype={draw:function(){var t=!0;this.garden.ctx.save(),this.garden.ctx.translate(this.p.x,this.p.y),this.petals.forEach((function(e){e.render(),t&=e.isfinished})),this.garden.ctx.restore(),1==t&&this.garden.removeBloom(this)},init:function(){for(var t=360/this.pc,e=_.randomInt(0,90),n=0;n<this.pc;n++)this.petals.push(new F(_.random(_.options.petalStretch.min,_.options.petalStretch.max),_.random(_.options.petalStretch.min,_.options.petalStretch.max),e+n*t,t,_.random(_.options.growFactor.min,_.options.growFactor.max),this))}},_.prototype={render:function(){for(var t=0;t<this.blooms.length;t++)this.blooms[t].draw()},addBloom:function(t){this.blooms.push(t)},removeBloom:function(t){for(var e=0;e<this.blooms.length;e++)if(this.blooms[e]===t)return this.blooms.splice(e,1),this},createRandomBloom:function(t,e){var n=_.options,r=_.randomInt(n.bloomRadius.min,n.bloomRadius.max),o=_.randomrgba(n.color.rmin,n.color.rmax,n.color.gmin,n.color.gmax,n.color.bmin,n.color.bmax,n.color.opacity),i=_.randomInt(n.petalCount.min,n.petalCount.max);this.createBloom(t,e,r,o,i)},createBloom:function(t,e,n,r,o){new P(new k(t,e),n,r,o,this)},clear:function(){this.blooms=[],this.ctx.clearRect(0,0,this.element.width,this.element.height)}},_.options={petalCount:{min:9,max:9},petalStretch:{min:1,max:3},growFactor:{min:.1,max:1},bloomRadius:{min:20,max:20},density:10,growSpeed:25,color:{rmin:128,rmax:255,gmin:0,gmax:128,bmin:0,bmax:128,opacity:.1},tanAngle:60},_.random=function(t,e){return Math.random()*(e-t)+t},_.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},_.circle=2*Math.PI,_.degrad=function(t){return _.circle/360*t},_.raddeg=function(t){return t/_.circle*360},_.rgba=function(t,e,n,r){return"rgba("+t+","+e+","+n+","+r+")"},_.randomrgba=function(t,e,n,r,o,i,a){var s=Math.round(_.random(t,e)),h=Math.round(_.random(n,r)),c=Math.round(_.random(o,i));return Math.abs(s-h)<=5&&Math.abs(h-c)<=5&&Math.abs(c-s)<=5?_.rgba(t,e,n,r,o,i,a):_.rgba(s,h,c,a)},console.log(document),console.log(document.body),document.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1}),document.body.style.overflow="hidden";var q=document.getElementById("bubbles"),E=document.getElementById("garden");function L(t){var e=window.devicePixelRatio;t.width=parseInt(window.getComputedStyle(t).width)*e,t.height=parseInt(window.getComputedStyle(t).height)*e}document.getElementById("words").style.transform="scale(".concat(window.innerWidth<700?window.innerWidth/700:1,")"),L(q),L(E),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};u=e,l=t,d=Math.floor(d*window.devicePixelRatio/3),f=l.getContext("2d"),g.set(o+"|#stop"),b.renderLoop(w.render)}(q,(function(){z(E)}))}]);